{
  "swagger": "2.0",
  "info": {
    "title": "Core Service API",
    "description": "API for Core Service of BusinessThing - manages organizations, users, documents, notes, and contracts",
    "version": "1.0.0"
  },
  "tags": [
    {
      "name": "AuthService"
    },
    {
      "name": "OrganizationService"
    },
    {
      "name": "UserService"
    },
    {
      "name": "DocumentService"
    },
    {
      "name": "NoteService"
    },
    {
      "name": "ContractTemplateService"
    },
    {
      "name": "GeneratedContractService"
    }
  ],
  "basePath": "/api",
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/auth/telegram": {
      "post": {
        "summary": "Авторизация через Telegram WebApp initData",
        "operationId": "AuthService_AuthenticateWithTelegram",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreAuthenticateWithTelegramResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/coreAuthenticateWithTelegramRequest"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/v1/contracts/{id}": {
      "get": {
        "summary": "Получить договор",
        "operationId": "GeneratedContractService_GetContract",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreGetContractResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "GeneratedContractService"
        ]
      },
      "delete": {
        "summary": "Удалить договор",
        "operationId": "GeneratedContractService_DeleteContract",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "GeneratedContractService"
        ]
      }
    },
    "/v1/documents/{id}": {
      "get": {
        "summary": "Получить документ",
        "operationId": "DocumentService_GetDocument",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreGetDocumentResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "DocumentService"
        ]
      },
      "delete": {
        "summary": "Удалить документ",
        "operationId": "DocumentService_DeleteDocument",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "DocumentService"
        ]
      }
    },
    "/v1/documents/{id}/status": {
      "patch": {
        "summary": "Обновить статус документа (вызов от Document Processing)",
        "operationId": "DocumentService_UpdateDocumentStatus",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/DocumentServiceUpdateDocumentStatusBody"
            }
          }
        ],
        "tags": [
          "DocumentService"
        ]
      }
    },
    "/v1/invitations/{token}/accept": {
      "post": {
        "summary": "Принять приглашение (активация пользователя)",
        "operationId": "UserService_AcceptInvitation",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreAcceptInvitationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserServiceAcceptInvitationBody"
            }
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/v1/notes/{id}": {
      "get": {
        "summary": "Получить заметку",
        "operationId": "NoteService_GetNote",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreGetNoteResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "NoteService"
        ]
      },
      "delete": {
        "summary": "Удалить заметку",
        "operationId": "NoteService_DeleteNote",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "NoteService"
        ]
      }
    },
    "/v1/organizations": {
      "post": {
        "summary": "Создать организацию",
        "operationId": "OrganizationService_CreateOrganization",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreCreateOrganizationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/coreCreateOrganizationRequest"
            }
          }
        ],
        "tags": [
          "OrganizationService"
        ]
      }
    },
    "/v1/organizations/me": {
      "get": {
        "summary": "Получить список своих организаций",
        "operationId": "OrganizationService_ListMyOrganizations",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreListMyOrganizationsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "OrganizationService"
        ]
      }
    },
    "/v1/organizations/{id}": {
      "get": {
        "summary": "Получить организацию по ID",
        "operationId": "OrganizationService_GetOrganization",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreGetOrganizationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "OrganizationService"
        ]
      },
      "delete": {
        "summary": "Удалить организацию (soft delete)",
        "operationId": "OrganizationService_DeleteOrganization",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "OrganizationService"
        ]
      },
      "put": {
        "summary": "Обновить организацию",
        "operationId": "OrganizationService_UpdateOrganization",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreUpdateOrganizationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/OrganizationServiceUpdateOrganizationBody"
            }
          }
        ],
        "tags": [
          "OrganizationService"
        ]
      }
    },
    "/v1/organizations/{organizationId}/contracts": {
      "get": {
        "summary": "Список договоров организации",
        "operationId": "GeneratedContractService_ListContracts",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreListContractsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "GeneratedContractService"
        ]
      },
      "post": {
        "summary": "Зарегистрировать сгенерированный договор (вызов от LLM Service)",
        "operationId": "GeneratedContractService_RegisterContract",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreRegisterContractResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GeneratedContractServiceRegisterContractBody"
            }
          }
        ],
        "tags": [
          "GeneratedContractService"
        ]
      }
    },
    "/v1/organizations/{organizationId}/documents": {
      "get": {
        "summary": "Список документов организации",
        "operationId": "DocumentService_ListDocuments",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreListDocumentsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "type": "string",
            "enum": [
              "DOCUMENT_STATUS_UNSPECIFIED",
              "DOCUMENT_STATUS_PENDING",
              "DOCUMENT_STATUS_PROCESSING",
              "DOCUMENT_STATUS_INDEXED",
              "DOCUMENT_STATUS_FAILED"
            ],
            "default": "DOCUMENT_STATUS_UNSPECIFIED"
          }
        ],
        "tags": [
          "DocumentService"
        ]
      },
      "post": {
        "summary": "Зарегистрировать документ после загрузки в S3",
        "operationId": "DocumentService_RegisterDocument",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreRegisterDocumentResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/DocumentServiceRegisterDocumentBody"
            }
          }
        ],
        "tags": [
          "DocumentService"
        ]
      }
    },
    "/v1/organizations/{organizationId}/notes": {
      "get": {
        "summary": "Список заметок организации",
        "operationId": "NoteService_ListNotes",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreListNotesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "NoteService"
        ]
      },
      "post": {
        "summary": "Создать заметку об организации",
        "operationId": "NoteService_CreateNote",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreCreateNoteResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/NoteServiceCreateNoteBody"
            }
          }
        ],
        "tags": [
          "NoteService"
        ]
      }
    },
    "/v1/organizations/{organizationId}/templates": {
      "get": {
        "summary": "Список шаблонов организации",
        "operationId": "ContractTemplateService_ListTemplates",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreListTemplatesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "ContractTemplateService"
        ]
      },
      "post": {
        "summary": "Создать шаблон договора",
        "operationId": "ContractTemplateService_CreateTemplate",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreCreateTemplateResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ContractTemplateServiceCreateTemplateBody"
            }
          }
        ],
        "tags": [
          "ContractTemplateService"
        ]
      }
    },
    "/v1/organizations/{organizationId}/users": {
      "get": {
        "summary": "Список пользователей организации",
        "operationId": "UserService_ListUsers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreListUsersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/v1/organizations/{organizationId}/users/invite": {
      "post": {
        "summary": "Пригласить пользователя (создать одноразовую ссылку)",
        "operationId": "UserService_InviteUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreInviteUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserServiceInviteUserBody"
            }
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/v1/templates/{id}": {
      "get": {
        "summary": "Получить шаблон",
        "operationId": "ContractTemplateService_GetTemplate",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreGetTemplateResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "ContractTemplateService"
        ]
      },
      "delete": {
        "summary": "Удалить шаблон",
        "operationId": "ContractTemplateService_DeleteTemplate",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "ContractTemplateService"
        ]
      },
      "put": {
        "summary": "Обновить шаблон",
        "operationId": "ContractTemplateService_UpdateTemplate",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreUpdateTemplateResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ContractTemplateServiceUpdateTemplateBody"
            }
          }
        ],
        "tags": [
          "ContractTemplateService"
        ]
      }
    },
    "/v1/users/{id}": {
      "get": {
        "summary": "Получить пользователя",
        "operationId": "UserService_GetUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreGetUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/v1/users/{id}/deactivate": {
      "post": {
        "summary": "Деактивировать пользователя",
        "operationId": "UserService_DeactivateUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserServiceDeactivateUserBody"
            }
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/v1/users/{id}/role": {
      "patch": {
        "summary": "Обновить роль пользователя",
        "operationId": "UserService_UpdateUserRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/coreUpdateUserRoleResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserServiceUpdateUserRoleBody"
            }
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    }
  },
  "definitions": {
    "ContractTemplateServiceCreateTemplateBody": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "templateType": {
          "type": "string"
        },
        "fieldsSchema": {
          "type": "string",
          "title": "JSON с полями шаблона"
        },
        "contentTemplate": {
          "type": "string"
        }
      }
    },
    "ContractTemplateServiceUpdateTemplateBody": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "fieldsSchema": {
          "type": "string"
        },
        "contentTemplate": {
          "type": "string"
        }
      }
    },
    "DocumentServiceRegisterDocumentBody": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "s3Key": {
          "type": "string"
        },
        "fileType": {
          "type": "string"
        },
        "fileSize": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "DocumentServiceUpdateDocumentStatusBody": {
      "type": "object",
      "properties": {
        "status": {
          "$ref": "#/definitions/coreDocumentStatus"
        },
        "errorMessage": {
          "type": "string"
        }
      }
    },
    "GeneratedContractServiceRegisterContractBody": {
      "type": "object",
      "properties": {
        "templateId": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "filledData": {
          "type": "string",
          "title": "JSON с заполненными значениями полей"
        },
        "s3Key": {
          "type": "string"
        },
        "fileType": {
          "type": "string"
        }
      }
    },
    "NoteServiceCreateNoteBody": {
      "type": "object",
      "properties": {
        "content": {
          "type": "string"
        }
      }
    },
    "OrganizationServiceUpdateOrganizationBody": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "industry": {
          "type": "string"
        },
        "region": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "profileData": {
          "type": "string"
        }
      }
    },
    "UserServiceAcceptInvitationBody": {
      "type": "object",
      "properties": {
        "telegramId": {
          "type": "string"
        },
        "firstName": {
          "type": "string"
        },
        "lastName": {
          "type": "string"
        }
      }
    },
    "UserServiceDeactivateUserBody": {
      "type": "object"
    },
    "UserServiceInviteUserBody": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        },
        "role": {
          "$ref": "#/definitions/coreUserRole"
        }
      }
    },
    "UserServiceUpdateUserRoleBody": {
      "type": "object",
      "properties": {
        "role": {
          "$ref": "#/definitions/coreUserRole"
        }
      }
    },
    "coreAcceptInvitationResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/coreUser"
        }
      }
    },
    "coreAuthenticateWithTelegramRequest": {
      "type": "object",
      "properties": {
        "initData": {
          "type": "string"
        }
      }
    },
    "coreAuthenticateWithTelegramResponse": {
      "type": "object",
      "properties": {
        "accessToken": {
          "type": "string"
        },
        "user": {
          "$ref": "#/definitions/coreUser"
        }
      }
    },
    "coreContractTemplate": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "organizationId": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "templateType": {
          "type": "string"
        },
        "fieldsSchema": {
          "type": "string"
        },
        "contentTemplate": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "coreCreateNoteResponse": {
      "type": "object",
      "properties": {
        "note": {
          "$ref": "#/definitions/coreNote"
        }
      }
    },
    "coreCreateOrganizationRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "industry": {
          "type": "string"
        },
        "region": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "profileData": {
          "type": "string",
          "title": "Расширяемая анкета в JSON"
        }
      }
    },
    "coreCreateOrganizationResponse": {
      "type": "object",
      "properties": {
        "organization": {
          "$ref": "#/definitions/coreOrganization"
        }
      }
    },
    "coreCreateTemplateResponse": {
      "type": "object",
      "properties": {
        "template": {
          "$ref": "#/definitions/coreContractTemplate"
        }
      }
    },
    "coreDocument": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "organizationId": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "s3Key": {
          "type": "string"
        },
        "fileType": {
          "type": "string"
        },
        "fileSize": {
          "type": "string",
          "format": "int64"
        },
        "status": {
          "$ref": "#/definitions/coreDocumentStatus"
        },
        "errorMessage": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "coreDocumentStatus": {
      "type": "string",
      "enum": [
        "DOCUMENT_STATUS_UNSPECIFIED",
        "DOCUMENT_STATUS_PENDING",
        "DOCUMENT_STATUS_PROCESSING",
        "DOCUMENT_STATUS_INDEXED",
        "DOCUMENT_STATUS_FAILED"
      ],
      "default": "DOCUMENT_STATUS_UNSPECIFIED"
    },
    "coreGeneratedContract": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "organizationId": {
          "type": "string"
        },
        "templateId": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "filledData": {
          "type": "string"
        },
        "s3Key": {
          "type": "string"
        },
        "fileType": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "coreGetContractResponse": {
      "type": "object",
      "properties": {
        "contract": {
          "$ref": "#/definitions/coreGeneratedContract"
        }
      }
    },
    "coreGetDocumentResponse": {
      "type": "object",
      "properties": {
        "document": {
          "$ref": "#/definitions/coreDocument"
        }
      }
    },
    "coreGetNoteResponse": {
      "type": "object",
      "properties": {
        "note": {
          "$ref": "#/definitions/coreNote"
        }
      }
    },
    "coreGetOrganizationResponse": {
      "type": "object",
      "properties": {
        "organization": {
          "$ref": "#/definitions/coreOrganization"
        }
      }
    },
    "coreGetTemplateResponse": {
      "type": "object",
      "properties": {
        "template": {
          "$ref": "#/definitions/coreContractTemplate"
        }
      }
    },
    "coreGetUserResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/coreUser"
        }
      }
    },
    "coreInviteUserResponse": {
      "type": "object",
      "properties": {
        "invitationToken": {
          "type": "string"
        },
        "invitationUrl": {
          "type": "string"
        },
        "expiresAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "coreListContractsResponse": {
      "type": "object",
      "properties": {
        "contracts": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/coreGeneratedContract"
          }
        },
        "total": {
          "type": "integer",
          "format": "int32"
        },
        "page": {
          "type": "integer",
          "format": "int32"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "coreListDocumentsResponse": {
      "type": "object",
      "properties": {
        "documents": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/coreDocument"
          }
        },
        "total": {
          "type": "integer",
          "format": "int32"
        },
        "page": {
          "type": "integer",
          "format": "int32"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "coreListMyOrganizationsResponse": {
      "type": "object",
      "properties": {
        "organizations": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/coreOrganization"
          }
        }
      }
    },
    "coreListNotesResponse": {
      "type": "object",
      "properties": {
        "notes": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/coreNote"
          }
        }
      }
    },
    "coreListTemplatesResponse": {
      "type": "object",
      "properties": {
        "templates": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/coreContractTemplate"
          }
        },
        "total": {
          "type": "integer",
          "format": "int32"
        },
        "page": {
          "type": "integer",
          "format": "int32"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "coreListUsersResponse": {
      "type": "object",
      "properties": {
        "users": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/coreUser"
          }
        },
        "total": {
          "type": "integer",
          "format": "int32"
        },
        "page": {
          "type": "integer",
          "format": "int32"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "coreNote": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "organizationId": {
          "type": "string"
        },
        "content": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "coreOrganization": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "industry": {
          "type": "string"
        },
        "region": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "profileData": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "deletedAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "coreRegisterContractResponse": {
      "type": "object",
      "properties": {
        "contract": {
          "$ref": "#/definitions/coreGeneratedContract"
        }
      }
    },
    "coreRegisterDocumentResponse": {
      "type": "object",
      "properties": {
        "document": {
          "$ref": "#/definitions/coreDocument"
        }
      }
    },
    "coreUpdateOrganizationResponse": {
      "type": "object",
      "properties": {
        "organization": {
          "$ref": "#/definitions/coreOrganization"
        }
      }
    },
    "coreUpdateTemplateResponse": {
      "type": "object",
      "properties": {
        "template": {
          "$ref": "#/definitions/coreContractTemplate"
        }
      }
    },
    "coreUpdateUserRoleResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/coreUser"
        }
      }
    },
    "coreUser": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "organizationId": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "telegramId": {
          "type": "string"
        },
        "firstName": {
          "type": "string"
        },
        "lastName": {
          "type": "string"
        },
        "role": {
          "$ref": "#/definitions/coreUserRole"
        },
        "status": {
          "$ref": "#/definitions/coreUserStatus"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "coreUserRole": {
      "type": "string",
      "enum": [
        "USER_ROLE_UNSPECIFIED",
        "USER_ROLE_ADMIN",
        "USER_ROLE_EMPLOYEE"
      ],
      "default": "USER_ROLE_UNSPECIFIED"
    },
    "coreUserStatus": {
      "type": "string",
      "enum": [
        "USER_STATUS_UNSPECIFIED",
        "USER_STATUS_PENDING",
        "USER_STATUS_ACTIVE",
        "USER_STATUS_INACTIVE"
      ],
      "default": "USER_STATUS_UNSPECIFIED"
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    }
  },
  "securityDefinitions": {
    "Bearer": {
      "type": "apiKey",
      "name": "Authorization",
      "in": "header"
    }
  },
  "security": [
    {
      "Bearer": []
    }
  ]
}
